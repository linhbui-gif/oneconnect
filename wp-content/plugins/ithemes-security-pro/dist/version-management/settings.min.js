(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[6070],{37206:(e,t,a)=>{"use strict";a.r(t);var n=a(6293),l=a(95122),s=a(3571),c=a(92819),i=a(94184),r=a.n(i),m=a(48015),o=a(9576),u=a(64893),p=a(87514),d=a.n(p),_=a(31600),h=a(33590),b=a(91991),g=a(19144);const y=()=>d()({path:"/ithemes-security/rpc/version-management/packages"}),k={plugin:{label:(0,l.__)("Plugin Name","it-l10n-ithemes-security-pro"),bulk:(0,l.__)("Select all plugins","it-l10n-ithemes-security-pro"),caption:(0,l.__)("Configure how plugins should be automatically updated.","it-l10n-ithemes-security-pro")},theme:{label:(0,l.__)("Theme Name","it-l10n-ithemes-security-pro"),bulk:(0,l.__)("Select all themes","it-l10n-ithemes-security-pro"),caption:(0,l.__)("Configure how themes should be automatically updated.","it-l10n-ithemes-security-pro")}};function E(){const{status:e,value:t}=(0,b.r5)(y);return"success"!==e?null:(0,n.createElement)(React.Fragment,null,(0,n.createElement)(h.bB,{name:"itsec_version-management_plugin_automatic_updates"},(e=>{let{formData:a}=e;return"custom"===a&&(0,n.createElement)(v,{kind:"plugin",packages:t,labels:k.plugin})})),(0,n.createElement)(h.bB,{name:"itsec_version-management_theme_automatic_updates"},(e=>{let{formData:a}=e;return"custom"===a&&(0,n.createElement)(v,{kind:"theme",packages:t,labels:k.theme})})))}function v(e){let{kind:t,packages:a,labels:l}=e;const s=(0,o.useInstanceId)(v,"itsec-vm-packages"),i=(0,m.useSelect)((e=>e(_.MODULES_STORE_NAME).getEditedSetting("version-management","packages"))),{editSetting:r}=(0,m.useDispatch)(_.MODULES_STORE_NAME),[u,p]=(0,n.useState)([]);if(!(0,c.isPlainObject)(i))return null;const d=a.filter((e=>e.kind===t));return(0,n.createElement)("div",{className:"itsec-vm-app"},(0,n.createElement)("table",null,(0,n.createElement)("caption",null,l.caption),(0,n.createElement)(N,{instanceId:s,isChecked:u.length===d.length,setIsChecked:e=>{p(e?d.map((e=>e.id)):[])},onBulkAction:(e,t)=>{const a={...i};u.forEach((n=>a[n]={...i[n],type:e,delay:void 0===t?i[n].delay:t})),r("version-management","packages",a)},labels:l}),(0,n.createElement)("tbody",null,d.map((e=>(0,n.createElement)(f,{key:e.id,instanceId:s,item:e,value:i[e.id],onChange:t=>r("version-management","packages",{...i,[e.id]:t}),isChecked:u.includes(e.id),setIsChecked:t=>p(t?[...u,e.id]:u.filter((t=>t!==e.id)))}))))))}function N(e){let{instanceId:t,isChecked:a,setIsChecked:s,onBulkAction:c,labels:i}=e;const[r,m]=(0,n.useState)(),o=[{type:"enabled",label:(0,l.__)("Enable","it-l10n-ithemes-security-pro"),description:(0,l.__)("Enable auto updates for all checked items.","it-l10n-ithemes-security-pro")},{type:"disabled",label:(0,l.__)("Disable","it-l10n-ithemes-security-pro"),description:(0,l.__)("Disable auto updates for all checked items.","it-l10n-ithemes-security-pro")},{type:"delay",label:(0,l.__)("Delay","it-l10n-ithemes-security-pro"),description:(0,l.__)("Delay auto updates for all checked items.","it-l10n-ithemes-security-pro")}];return(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"itsec-vm-header"},(0,n.createElement)("th",{className:"itsec-vm-column__bulk"},(0,n.createElement)(g.Z8,{checked:a,onChange:s,label:i.bulk,hideLabelFromVision:!0})),(0,n.createElement)("th",{className:"itsec-vm-column__name"},i.label),o.map((e=>{let{type:a,label:l,description:s}=e;return(0,n.createElement)("th",{key:a,className:`itsec-vm-column__${a}`,"aria-label":l},(0,n.createElement)(u.VisuallyHidden,{id:`${t}__${a}_help`},s),(0,n.createElement)("button",{type:"button",onClick:()=>c(a,"delay"===a?r:void 0),className:`itsec-vm-header__button itsec-vm-header__button--${a}`,"aria-describedby":`${t}__${a}_help`},l))})),(0,n.createElement)("th",{className:"itsec-vm-column__days"},(0,n.createElement)(u.TextControl,{type:"number",value:r,onChange:m,min:1,placeholder:(0,l.__)("3 Days","it-l10n-ithemes-security-pro"),label:(0,l.__)("Delay Update for Days","it-l10n-ithemes-security-pro"),hideLabelFromVision:!0}))))}function f(e){let{item:t,instanceId:a,value:s={type:"enabled",delay:3},onChange:c,isChecked:i,setIsChecked:m}=e;const o=[{type:"enabled",label:(0,l.__)("Enabled","it-l10n-ithemes-security-pro")},{type:"disabled",label:(0,l.__)("Disabled","it-l10n-ithemes-security-pro")},{type:"delay",label:(0,l.__)("Delay","it-l10n-ithemes-security-pro")}];return(0,n.createElement)("tr",{className:r()("itsec-vm-package",`itsec-vm-package--type-${s.type}`)},(0,n.createElement)("td",{headers:`itsec-vm-bulk-select itsec-vm-package__name-${t.id}`,className:"itsec-vm-package__bulk itsec-vm-column__bulk"},(0,n.createElement)(g.Z8,{id:`${a}__bulk-${t.id}`,checked:i,onChange:m})),(0,n.createElement)("th",{scope:"row",id:`${a}__name-${t.id}`,className:"itsec-vm-package__name itsec-vm-column__name"},(0,n.createElement)("label",{htmlFor:`${a}__bulk-${t.id}`},t.name)),o.map((e=>{let{type:l,label:i}=e;return(0,n.createElement)("td",{key:l,className:`itsec-vm-package__type itsec-vm-package__type--${l} itsec-vm-column__${l}`},(0,n.createElement)("input",{type:"radio",name:`${a}[${t.id}][type]`,id:`${a}__type--${l}-${t.id}`,value:l,checked:s.type===l,onChange:()=>c({...s,type:l})}),(0,n.createElement)("label",{htmlFor:`${a}__type--${l}-${t.id}`},(0,n.createElement)("span",{className:"screen-reader-text"},i)))})),(0,n.createElement)("td",{className:"itsec-vm-package__delay itsec-vm-column__days"},(0,n.createElement)(u.TextControl,{type:"number",value:s.delay,onChange:e=>c({...s,delay:e}),min:1,placeholder:(0,l.__)("3 Days","it-l10n-ithemes-security-pro"),label:(0,l.__)("Delay Update for Days","it-l10n-ithemes-security-pro"),hideLabelFromVision:!0})))}a.p=window.itsecWebpackPublicPath,(0,l.setLocaleData)({"":{}},"ithemes-security-pro"),(0,s.registerPlugin)("itsec-version-management-settings",{render:()=>(0,n.createElement)(E,null)})},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},82839:e=>{e.exports=function(){return this.wp.a11y}()},87514:e=>{e.exports=function(){return this.wp.apiFetch}()},64893:e=>{e.exports=function(){return this.wp.components}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},81834:e=>{e.exports=function(){return this.wp.isShallowEqual}()},81019:e=>{e.exports=function(){return this.wp.keycodes}()},3571:e=>{e.exports=function(){return this.wp.plugins}()},14776:e=>{e.exports=function(){return this.wp.primitives}()},73470:e=>{e.exports=function(){return this.wp.url}()},99196:e=>{"use strict";e.exports=window.React},91850:e=>{"use strict";e.exports=window.ReactDOM},92819:e=>{"use strict";e.exports=window.lodash}},e=>{e.O(0,[7271,4899,3075,5096,4639,1991,9144,8155],(()=>(37206,e(e.s=37206))));var t=e.O();((window.itsec=window.itsec||{})["version-management"]=window.itsec["version-management"]||{}).settings=t}]);