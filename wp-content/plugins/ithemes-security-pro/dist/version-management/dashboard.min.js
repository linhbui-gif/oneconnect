(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[2261],{31511:(e,t,r)=>{"use strict";r.d(t,{sE:()=>C,x4:()=>p,PN:()=>h,pL:()=>y,NC:()=>E,N4:()=>_,CO:()=>S,AW:()=>P,SU:()=>k,k0:()=>Z,ZE:()=>w,UC:()=>j,xJ:()=>O,z8:()=>b,Y3:()=>x,bv:()=>v});var n=r(92819),s=r(6293),i=r(73470),o=r(4942),a=r(13092),c=r(86033);function u(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}var l=new WeakMap,d=new WeakMap;class h{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;u(this,l,{writable:!0,value:{}}),u(this,d,{writable:!0,value:{}}),(0,o.Z)(this,"add",((e,t,r)=>((0,c.Z)(this,l)[e]||((0,c.Z)(this,l)[e]=[]),(0,c.Z)(this,l)[e].push(t),r&&((0,c.Z)(this,d)[e]||((0,c.Z)(this,d)[e]=[]),(0,c.Z)(this,d)[e].push(r)),this))),(0,o.Z)(this,"hasErrors",(()=>this.getErrorCodes().length>0)),(0,o.Z)(this,"getErrorCodes",(()=>Object.keys((0,c.Z)(this,l)))),(0,o.Z)(this,"getErrorCode",(()=>this.getErrorCodes()[0])),(0,o.Z)(this,"getErrorMessages",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return(0,c.Z)(e,l)[t];const r=[];for(const t in(0,c.Z)(e,l))(0,c.Z)(e,l).hasOwnProperty(t)&&r.concat((0,c.Z)(e,l)[t]);return r})),(0,o.Z)(this,"getErrorMessage",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),e.getErrorMessages(t)[0]})),(0,o.Z)(this,"getErrorData",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),(0,c.Z)(e,d)[t]})),(0,o.Z)(this,"getAllErrorMessages",(()=>{const e=[];for(const t in(0,c.Z)(this,l))(0,c.Z)(this,l).hasOwnProperty(t)&&e.push(...(0,c.Z)(this,l)[t]);return e})),t&&(r&&((0,c.Z)(this,l)[t]=[r]),n&&((0,c.Z)(this,d)[t]=n))}static fromPHPObject(e){const t=new h;return(0,a.Z)(t,l,e.errors),(0,a.Z)(t,d,e.error_data),t}static fromApiError(e){const t=new h;if((0,c.Z)(t,l)[e.code]=[e.message],(0,c.Z)(t,d)[e.code]=[e.data],e.additional_errors)for(const r of e.additional_errors)(0,c.Z)(t,l)[r.code]=[r.message],r.data&&((0,c.Z)(t,d)||(0,a.Z)(t,d,[]),(0,c.Z)(t,d)[r.code].push(r.data));return t}}var g=r(95122);class f extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];super(e.message||(0,g.__)("An unknown error occurred.","it-l10n-ithemes-security-pro"),...r),Error.captureStackTrace&&Error.captureStackTrace(this,f),this.__response=e;for(const t in e)e.hasOwnProperty(t)&&Object.defineProperty(this,t,{value:e[t],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}class p{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"error",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"success",void 0),(0,o.Z)(this,"info",void 0),(0,o.Z)(this,"warning",void 0),this.type=e,this.error=t,this.data=r,this.success=n,this.info=s,this.warning=i,Object.seal(this)}isSuccess(){return this.type===p.SUCCESS}static async fromResponse(e){const t=t=>{const r=e.headers?.get(`X-Messages-${t}`);return r?JSON.parse(r):[]},r=204!==e.status&&e.json?await e.json():null,n=E(r),s=n.hasErrors()?p.ERROR:p.SUCCESS,i=t("Success"),o=t("Info"),a=t("Warning");return new p(s,n,r,i,o,a)}}Object.defineProperty(p,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(p,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const m=(0,s.createContext)({getUrl(e){e="settings"===e?"itsec":"itsec-"+e;const t=(0,i.removeQueryArgs)(document.location.href,...Object.keys((0,i.getQueryArgs)(document.location.href)));return(0,i.addQueryArgs)(t,{page:e})}});function v(e){const{getUrl:t}=(0,s.useContext)(m);return t(e)}function b(e){if(e<=999)return e.toString();if(e<=9999){const t=(e/1e3).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","k"):`${t}k`}if(e<=99999)return e.toString().substring(0,2)+"k";if(e<=999999)return e.toString().substring(0,3)+"k";if(e<=9999999){const t=(e/1e6).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","m"):`${t}m`}if(e<=99999999)return e.toString().substring(0,2)+"m";if(e<=999999999)return e.toString().substring(0,3)+"m";if(e<=9999999999){const t=(e/1e9).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","b"):`${t}b`}return e}function w(e){if(!(0,n.isPlainObject)(e))return!1;const t=Object.keys(e);return 2===t.length&&t.includes("errors")&&t.includes("error_data")}function Z(e){if(!(0,n.isPlainObject)(e))return!1;const t=Object.keys(e);return(3===t.length||4===t.length)&&!(4===t.length&&!t.includes("additional_errors"))&&t.includes("code")&&t.includes("message")&&t.includes("data")}function E(e){return e instanceof h?e:w(e)?h.fromPHPObject(e):Z(e)?h.fromApiError(e):new h}function _(e){const t={};for(const[r,n]of e)t[r]=n;return t}function y(e,t){const r=[[],[]];for(const n of e)r[t(n)?0:1].push(n);return r}function O(e){if(e instanceof Error)throw e;throw new f(e)}const C="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function k(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,n.get)(e,["_links","self",0,"targetHints",t],r?void 0:[])}function P(e){return function(e,t){return(0,n.get)(e,["_links","self",0,"href"])}(e)}function S(e,t){if(e&&e.links)for(const r of e.links)if(r.rel===t)return r}function j(e,t){if("object"!==e.type)return e;let r;for(const s in t)t.hasOwnProperty(s)&&"hidden"===t[s]["ui:widget"]&&(r||(r=(0,n.cloneDeep)(e)),delete r.properties[s]);return r||e}function x(e){let t=[];if(!e)return t;const r=e instanceof h?e:E((0,n.pick)(e,["code","message","data"]));return"rest_invalid_param"===r.getErrorCode()&&(t=Object.values(r.getErrorData().params)),[...r.getAllErrorMessages(),...t]}},15373:(e,t,r)=>{"use strict";r.r(t);var n=r(6293),s=r(95122),i=r(3571),o=r(48015),a=r(91991),c=r(1528),u=r(31511);const l={render:function(e){let{card:t,config:r}=e;const i=[{label:(0,s.__)("WordPress Updates","it-l10n-ithemes-security-pro"),value:t.data.counts.core},{label:(0,s.__)("Plugin Updates","it-l10n-ithemes-security-pro"),value:t.data.counts.plugin},{label:(0,s.__)("Theme Updates","it-l10n-ithemes-security-pro"),value:t.data.counts.theme},{label:(0,s.__)("Total Updates","it-l10n-ithemes-security-pro"),value:t.data.all}];return(0,n.createElement)("div",{className:"itsec-card--type-version-management"},(0,n.createElement)(c.CardHeader,null,(0,n.createElement)(c.CardHeaderTitle,{card:t,config:r}),(0,n.createElement)(c.CardHeaderDate,{card:t,config:r})),(0,n.createElement)("section",{className:"itsec-card-version-management__updates-section"},(0,n.createElement)("ul",{className:"itsec-card-version-management__updates"},i.map(((e,t)=>(0,n.createElement)("li",{className:"itsec-card-version-management__update",key:t},(0,n.createElement)("span",{className:"itsec-card-version-management__update-label"},e.label),(0,n.createElement)("span",{className:"itsec-card-version-management__update-count"},(0,u.z8)(e.value))))))),(0,n.createElement)(c.CardFooterSchemaActions,{card:t}))},elementQueries:[{type:"width",dir:"max",px:355}]};function d(){const{registerCard:e}=(0,o.useDispatch)("ithemes-security/dashboard");return(0,a.eH)(d,(()=>e("version-management",l))),null}r.p=window.itsecWebpackPublicPath,(0,s.setLocaleData)({"":{}},"ithemes-security-pro"),(0,i.registerPlugin)("itsec-version-management-dashboard",{render:()=>(0,n.createElement)(d,null)})},1528:e=>{e.exports=function(){return this.itsec.dashboard.dashboard}()},9576:e=>{e.exports=function(){return this.wp.compose}()},48015:e=>{e.exports=function(){return this.wp.data}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},3571:e=>{e.exports=function(){return this.wp.plugins}()},73470:e=>{e.exports=function(){return this.wp.url}()},92819:e=>{"use strict";e.exports=window.lodash},1519:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{Z:()=>n})},86033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(1519);function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,n.Z)(e,t,"get"))}},13092:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(1519);function s(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,(0,n.Z)(e,t,"set"),r),r}},4942:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>n})},87462:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>n})}},e=>{e.O(0,[1991],(()=>(15373,e(e.s=15373))));var t=e.O();((window.itsec=window.itsec||{})["version-management"]=window.itsec["version-management"]||{}).dashboard=t}]);