(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[7013],{31511:(e,t,r)=>{"use strict";r.d(t,{sE:()=>T,x4:()=>f,PN:()=>d,pL:()=>P,NC:()=>R,N4:()=>v,CO:()=>O,AW:()=>x,SU:()=>w,k0:()=>_,ZE:()=>m,UC:()=>I,xJ:()=>S,z8:()=>C,Y3:()=>A,bv:()=>y});var n=r(92819),s=r(6293),o=r(73470),i=r(4942),c=r(13092),a=r(86033);function u(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}var l=new WeakMap,p=new WeakMap;class d{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;u(this,l,{writable:!0,value:{}}),u(this,p,{writable:!0,value:{}}),(0,i.Z)(this,"add",((e,t,r)=>((0,a.Z)(this,l)[e]||((0,a.Z)(this,l)[e]=[]),(0,a.Z)(this,l)[e].push(t),r&&((0,a.Z)(this,p)[e]||((0,a.Z)(this,p)[e]=[]),(0,a.Z)(this,p)[e].push(r)),this))),(0,i.Z)(this,"hasErrors",(()=>this.getErrorCodes().length>0)),(0,i.Z)(this,"getErrorCodes",(()=>Object.keys((0,a.Z)(this,l)))),(0,i.Z)(this,"getErrorCode",(()=>this.getErrorCodes()[0])),(0,i.Z)(this,"getErrorMessages",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t)return(0,a.Z)(e,l)[t];const r=[];for(const t in(0,a.Z)(e,l))(0,a.Z)(e,l).hasOwnProperty(t)&&r.concat((0,a.Z)(e,l)[t]);return r})),(0,i.Z)(this,"getErrorMessage",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),e.getErrorMessages(t)[0]})),(0,i.Z)(this,"getErrorData",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t=t||e.getErrorCode(),(0,a.Z)(e,p)[t]})),(0,i.Z)(this,"getAllErrorMessages",(()=>{const e=[];for(const t in(0,a.Z)(this,l))(0,a.Z)(this,l).hasOwnProperty(t)&&e.push(...(0,a.Z)(this,l)[t]);return e})),t&&(r&&((0,a.Z)(this,l)[t]=[r]),n&&((0,a.Z)(this,p)[t]=n))}static fromPHPObject(e){const t=new d;return(0,c.Z)(t,l,e.errors),(0,c.Z)(t,p,e.error_data),t}static fromApiError(e){const t=new d;if((0,a.Z)(t,l)[e.code]=[e.message],(0,a.Z)(t,p)[e.code]=[e.data],e.additional_errors)for(const r of e.additional_errors)(0,a.Z)(t,l)[r.code]=[r.message],r.data&&((0,a.Z)(t,p)||(0,c.Z)(t,p,[]),(0,a.Z)(t,p)[r.code].push(r.data));return t}}var h=r(95122);class E extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];super(e.message||(0,h.__)("An unknown error occurred.","it-l10n-ithemes-security-pro"),...r),Error.captureStackTrace&&Error.captureStackTrace(this,E),this.__response=e;for(const t in e)e.hasOwnProperty(t)&&Object.defineProperty(this,t,{value:e[t],configurable:!0,enumerable:!0,writable:!0})}toString(){return this.__response.toString()}getResponse(){return this.__response}}class f{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];(0,i.Z)(this,"type",void 0),(0,i.Z)(this,"error",void 0),(0,i.Z)(this,"data",void 0),(0,i.Z)(this,"success",void 0),(0,i.Z)(this,"info",void 0),(0,i.Z)(this,"warning",void 0),this.type=e,this.error=t,this.data=r,this.success=n,this.info=s,this.warning=o,Object.seal(this)}isSuccess(){return this.type===f.SUCCESS}static async fromResponse(e){const t=t=>{const r=e.headers?.get(`X-Messages-${t}`);return r?JSON.parse(r):[]},r=204!==e.status&&e.json?await e.json():null,n=R(r),s=n.hasErrors()?f.ERROR:f.SUCCESS,o=t("Success"),i=t("Info"),c=t("Warning");return new f(s,n,r,o,i,c)}}Object.defineProperty(f,"SUCCESS",{value:"success",writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(f,"ERROR",{value:"error",writable:!1,enumerable:!1,configurable:!1});const g=(0,s.createContext)({getUrl(e){e="settings"===e?"itsec":"itsec-"+e;const t=(0,o.removeQueryArgs)(document.location.href,...Object.keys((0,o.getQueryArgs)(document.location.href)));return(0,o.addQueryArgs)(t,{page:e})}});function y(e){const{getUrl:t}=(0,s.useContext)(g);return t(e)}function C(e){if(e<=999)return e.toString();if(e<=9999){const t=(e/1e3).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","k"):`${t}k`}if(e<=99999)return e.toString().substring(0,2)+"k";if(e<=999999)return e.toString().substring(0,3)+"k";if(e<=9999999){const t=(e/1e6).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","m"):`${t}m`}if(e<=99999999)return e.toString().substring(0,2)+"m";if(e<=999999999)return e.toString().substring(0,3)+"m";if(e<=9999999999){const t=(e/1e9).toFixed(1);return"0"===t.charAt(t.length-1)?t.replace(".0","b"):`${t}b`}return e}function m(e){if(!(0,n.isPlainObject)(e))return!1;const t=Object.keys(e);return 2===t.length&&t.includes("errors")&&t.includes("error_data")}function _(e){if(!(0,n.isPlainObject)(e))return!1;const t=Object.keys(e);return(3===t.length||4===t.length)&&!(4===t.length&&!t.includes("additional_errors"))&&t.includes("code")&&t.includes("message")&&t.includes("data")}function R(e){return e instanceof d?e:m(e)?d.fromPHPObject(e):_(e)?d.fromApiError(e):new d}function v(e){const t={};for(const[r,n]of e)t[r]=n;return t}function P(e,t){const r=[[],[]];for(const n of e)r[t(n)?0:1].push(n);return r}function S(e){if(e instanceof Error)throw e;throw new E(e)}const T="https://secure.gravatar.com/avatar/d7a973c7dab26985da5f961be7b74480?s=96&d=mm&f=y&r=g";function w(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,n.get)(e,["_links","self",0,"targetHints",t],r?void 0:[])}function x(e){return function(e,t){return(0,n.get)(e,["_links","self",0,"href"])}(e)}function O(e,t){if(e&&e.links)for(const r of e.links)if(r.rel===t)return r}function I(e,t){if("object"!==e.type)return e;let r;for(const s in t)t.hasOwnProperty(s)&&"hidden"===t[s]["ui:widget"]&&(r||(r=(0,n.cloneDeep)(e)),delete r.properties[s]);return r||e}function A(e){let t=[];if(!e)return t;const r=e instanceof d?e:R((0,n.pick)(e,["code","message","data"]));return"rest_invalid_param"===r.getErrorCode()&&(t=Object.values(r.getErrorData().params)),[...r.getAllErrorMessages(),...t]}},53355:(e,t,r)=>{"use strict";r.r(t),r.d(t,{STORE_NAME:()=>st});var n={};r.r(n),r.d(n,{CREATE_EXPORT:()=>j,DELETE_EXPORT:()=>X,EDIT_IMPORT_ROLE_MAP:()=>G,EDIT_IMPORT_SOURCES:()=>J,EDIT_IMPORT_USER_MAP:()=>z,FINISH_EXPORT:()=>V,IMPORT_RESET:()=>Q,RECEIVE_EXPORTS:()=>F,RECEIVE_SOURCES:()=>U,SET_EXPORT_ERROR:()=>H,VALIDATED_EXPORT:()=>B,VALIDATE_EXPORT_DATA:()=>$,VALIDATE_EXPORT_FILE:()=>q,WPC_APPLICATION_APPROVED:()=>ne,WPC_APPLICATION_REJECTED:()=>re,WPC_CHECK_SUPPORT:()=>se,WPC_CREATE_EXPORT:()=>ce,WPC_DELETE_CREDENTIALS:()=>le,WPC_DELETE_CREDENTIALS_SUCCESS:()=>pe,WPC_DISCOVERED_REST_API:()=>te,WPC_DISCOVER_REST_API:()=>ee,WPC_ENTER_WEBSITE:()=>Y,WPC_FINISH_EXPORT:()=>ae,WPC_RECEIVE_APP_PASSWORD:()=>ue,WPC_RECEIVE_EXPORTS:()=>oe,WPC_RECEIVE_SOURCES:()=>ie,WPC_RESET:()=>K,applyExportData:()=>N,completeImport:()=>L,createExport:()=>g,deleteExport:()=>y,deleteExports:()=>C,editImportRoleMap:()=>M,editImportSources:()=>b,editImportUserMap:()=>W,receiveExports:()=>f,receiveSources:()=>E,resetImport:()=>k,transformImportExportData:()=>Z,validateExportData:()=>_,validateExportFile:()=>m,wpConnectApplicationApproved:()=>T,wpConnectApplicationRejected:()=>w,wpConnectCreateExport:()=>A,wpConnectDeleteCredentials:()=>D,wpConnectDiscoverRestApi:()=>S,wpConnectEnterWebsite:()=>v,wpConnectReceiveAppPassword:()=>x,wpConnectReceiveExports:()=>O,wpConnectReceiveSources:()=>I,wpConnectReset:()=>R});var s={};r.r(s),r.d(s,{areWpConnectCredentialsExpired:()=>qe,getExports:()=>Se,getImportExportData:()=>xe,getImportExportRoleReplacementTargets:()=>Ze,getImportExportSource:()=>Ie,getImportExportUserReplacementTargets:()=>Me,getImportExportValidationResult:()=>Oe,getImportRoleMap:()=>be,getImportSources:()=>Ae,getImportUserMap:()=>De,getLastCreatedExportResult:()=>we,getSources:()=>Pe,getWpConnectAppPasswordsAuthEndpoint:()=>ze,getWpConnectCredentials:()=>He,getWpConnectCredentialsIntrospection:()=>Be,getWpConnectDiscoveryResult:()=>$e,getWpConnectExport:()=>Ve,getWpConnectExports:()=>ke,getWpConnectRestApiEndpoint:()=>Je,getWpConnectSiteUrl:()=>Le,getWpConnectSources:()=>Fe,getWpConnectStep:()=>Ne,hasWpConnectExports:()=>Ue,isCreatingExport:()=>Te,isDeletingWpConnectCredential:()=>Xe,wpConnectIsCreating:()=>je});var o={};r.r(o),r.d(o,{getExports:()=>Qe,getSources:()=>Ge,getWpConnectCredentialsIntrospection:()=>et,getWpConnectExports:()=>Ke,getWpConnectSources:()=>Ye});var i=r(48015),c=r(31600),a=r(95122),u=r(31511);function l(e){return{type:"WP_CONNECT_FETCH",request:e}}function p(e,t){let{url:r,path:n,headers:s,...o}=t;const i=e.select(st).getWpConnectCredentials();if(r=r||e.select(st).getWpConnectRestApiEndpoint(n),!r)throw{code:"not_connected",message:(0,a.__)("iThemes Security is not connected to a site to fetch exports for.","it-l10n-ithemes-security-pro")};if(!i)throw{code:"not_authenticated",message:(0,a.__)("iThemes Security has not authenticated with the site to fetch exports for.","it-l10n-ithemes-security-pro")};return{url:r,headers:{Authorization:`Basic ${window.btoa(i.username+":"+i.password)}`,...s||{}},credentials:"omit",...o}}const d={WP_CONNECT_FETCH:(0,i.createRegistryControl)((e=>t=>{let{request:r}=t;try{return c.controls.API_FETCH({request:p(e,r)})}catch(e){return Promise.reject(e)}})),WP_CONNECT_FETCH_RESULT:(0,i.createRegistryControl)((e=>t=>{let{request:r}=t;try{return c.controls.API_FETCH_RESULT({request:p(e,r)})}catch(e){return new u.x4(u.x4.ERROR,new u.PN(e.code,e.message))}}))};var h=r(92819);function E(e){return{type:U,sources:e}}function f(e){return{type:F,exports:e}}function*g(e){yield{type:j,export:e};const t=yield(0,c.apiFetchResult)({path:"/ithemes-security/v1/import-export/exports",method:"POST",data:e});return yield{type:V,result:t},t}function*y(e){yield(0,c.apiFetch)({path:`/ithemes-security/v1/import-export/exports/${e}`,method:"DELETE"}),yield{type:X,id:e}}function*C(e){let t;try{t=yield(0,c.apiFetch)({path:"/batch/v1",method:"POST",data:{requests:e.map((e=>({method:"DELETE",path:`/ithemes-security/v1/import-export/exports/${e}`})))}})}catch(e){return yield(0,c.createNotice)("error",e.message||(0,a.__)("Could not delete exports.","it-l10n-ithemes-security-pro")),e}for(let r=0;r<e.length;r++){const n=t.responses[r];n.status>=400?yield{type:H,id:e[r],error:n.body}:yield{type:X,id:e[r]}}}function*m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload";yield{type:q,file:e,source:t};const r=new window.FormData;r.append("file",e);const n=yield(0,c.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",body:r});yield{type:B,result:n}}function*_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"connect";yield{type:$,data:e,source:t};const r=yield(0,c.apiFetchResult)({path:"ithemes-security/rpc/import/validate",method:"POST",data:e});yield{type:B,result:r}}function*R(){yield(0,c.dispatch)(st,"wpConnectDeleteCredentials"),yield{type:K}}function v(e){return{type:Y,url:e}}function P(e){return(0,c.apiFetchResult)({path:"/ithemes-security/rpc/discover",method:"POST",data:{url:e}})}function*S(e){yield{type:ee,url:e};const t=yield P(e);return yield{type:te,result:t},t}function*T(e,t){yield{type:ne,url:e,credentials:t};const r=yield P(e),n=r.isSuccess()&&r.data.itsec.routes.hasOwnProperty("/ithemes-security/v1/import-export/exports");yield{type:se,discovery:r,hasSupport:n}}function w(){return{type:re}}function x(e){return{type:ue,introspection:e}}function O(e){return{type:oe,exports:e}}function I(e){return{type:ie,sources:e}}function*A(e){yield{type:ce,export:e};const t=yield(r={data:e,path:"/ithemes-security/v1/import-export/exports",method:"POST"},{type:"WP_CONNECT_FETCH_RESULT",request:r});var r;return yield{type:ae,result:t},t}function*D(){if(!(yield(0,c.select)(st,"getWpConnectCredentials")))return;yield{type:le};const e=yield(0,c.select)(st,"getWpConnectCredentialsIntrospection"),t=(0,h.get)(e,["_links","self",0,"href"]);if(t)try{yield l({url:t,method:"DELETE"})}catch(e){console.error(e)}yield{type:pe}}function b(e){return{type:J,sources:e}}function W(e){return{type:z,map:e}}function M(e){return{type:G,map:e}}function*Z(){const e=yield(0,c.select)(st,"getImportExportData"),t=yield(0,c.select)(st,"getImportSources"),r=yield(0,c.select)(st,"getImportUserMap"),n=yield(0,c.select)(st,"getImportRoleMap");return yield(0,c.apiFetch)({method:"POST",path:"/ithemes-security/rpc/import/transform",data:{export:e,sources:t,user_map:r,role_map:n}})}function*N(){yield(0,c.dispatch)(c.MODULES_STORE_NAME,"resetModuleEdits"),yield(0,c.dispatch)(c.MODULES_STORE_NAME,"resetSettingEdits"),yield(0,c.dispatch)("ithemes-security/user-groups-editor","resetAllEdits");const e=yield*Z(),t=yield(0,c.select)(st,"getImportSources");for(const r of t){if(!e.sources[r])continue;const t=e.sources[r];switch(r){case"modules":for(const[e,r]of Object.entries(t))yield(0,c.dispatch)(c.MODULES_STORE_NAME,"editModule",e,{status:{selected:r}});break;case"settings":for(const[e,r]of Object.entries(t))yield(0,c.dispatch)(c.MODULES_STORE_NAME,"editSettings",e,r);break;case"user-groups":const r=yield(0,c.select)("ithemes-security/user-groups","getSettingDefinitions",null,void 0,{skipConditions:!0}),n=yield(0,c.select)("ithemes-security/user-groups","getMatchables");for(const e of n)"user-group"!==e.type||(0,h.find)(t,{id:e.id})||(yield(0,c.dispatch)("ithemes-security/user-groups-editor","markGroupForDeletion",e.id));for(const s of t)if((0,h.find)(n,{id:s.id})||(yield(0,c.dispatch)("ithemes-security/user-groups-editor","createLocalGroup",s.id))){yield(0,c.dispatch)("ithemes-security/user-groups-editor","editGroup",s.id,{...s,roles:(0,h.map)(s.roles,"slug"),users:(0,h.map)(s.users,"id")});for(const t of r)if(e.sources.settings[t.id])for(const r of Object.keys(t.settings)){const n=(0,h.get)(e.sources.settings[t.id],r);Array.isArray(n)&&(yield(0,c.dispatch)("ithemes-security/user-groups-editor","editGroupSetting",s.id,t.id,r,n.includes(s.id)))}}}}}function*L(){const e=yield(0,c.select)(st,"getImportExportData"),t=yield(0,c.select)(st,"getImportSources"),r=yield(0,c.select)(st,"getImportUserMap"),n=yield(0,c.select)(st,"getImportRoleMap");return yield(0,c.apiFetchResult)({path:"/ithemes-security/rpc/import/run",method:"POST",data:{export:e,user_map:r,role_map:n,sources:(0,h.difference)(t,["modules","settings","user-groups"])}})}function k(){return{type:Q}}const U="RECEIVE_SOURCES",F="RECEIVE_EXPORTS",j="CREATE_EXPORT",V="FINISH_EXPORT",X="DELETE_EXPORT",H="SET_EXPORT_ERROR",q="VALIDATE_EXPORT_FILE",$="VALIDATE_EXPORT_DATA",B="VALIDATED_EXPORT",J="EDIT_IMPORT_SOURCES",z="EDIT_IMPORT_USER_MAP",G="EDIT_IMPORT_ROLE_MAP",Q="IMPORT_RESET",K="WPC_RESET",Y="WPC_ENTER_WEBSITE",ee="WPC_DISCOVER_REST_API",te="WPC_DISCOVERED_REST_API",re="WPC_APPLICATION_REJECTED",ne="WPC_APPLICATION_APPROVED",se="WPC_CHECK_SUPPORT",oe="WPC_RECEIVE_EXPORTS",ie="WPC_RECEIVE_SOURCES",ce="WPC_CREATE_EXPORT",ae="WPC_FINISH_EXPORT",ue="WPC_RECEIVE_APP_PASSWORD",le="WPC_DELETE_CREDENTIALS",pe="WPC_DELETE_CREDENTIALS_SUCCESS",de=/(?:(?:\[(?:(?:(["'])((?:\\.|(?:(?!\1).))*)\1)|([-+]?\d+))\])|(?:\[(.?))|(?:(?:^|(?:(?!^)\.))([^\s"'\`\[\].\\]+))|(.))/g,he=/\\(.)/g,Ee=e=>{let t,r=[];for(;t=de.exec(e);){let n,[,s,o,i,,c]=t;if(s)n=o.replace(he,((...e)=>e[1]===s?s:e[0]));else if(i)n=+i;else{if(!c)throw de.lastIndex=0,new SyntaxError(`Invalid step @ ${t.index}: ${JSON.stringify(e)}`);n=c}r.push(n)}return r},{isArray:fe}=Array,{defineProperty:ge,values:ye}=Object,Ce=Symbol(),me=Symbol(),_e=((e={})=>{const{collect:t=ye,default:r,flatMap:n="*",map:s="**",parser:o=Ee,split:i=o}=e,c=!1===n?me:n,a=!1===s?Ce:s,u="string"==typeof i?e=>e.split(i):i;return ge((function e(n,s,...o){let i;switch(typeof s){case"string":i=u(s);break;case"number":case"symbol":i=[s];break;default:if(!fe(s))throw new TypeError("Invalid path: expected a string, array, number, or symbol");i=s}const l=o.length?o[0]:r,p=e=>void 0===e?l:e,d=i.length-1;for(let r=0;r<=d;++r){if(!n)return l;const s=i[r],o=s===c;if(o||s===a){const s=fe(n)?n:t(n);let c;if(r===d)c=p;else{const t=i.slice(r+1);c=r=>e(r,t,l)}return o?s.flatMap(c):s.map(c)}n=Number.isInteger(s)&&fe(n)?n[s<0?n.length+s:s]:n[s]}return p(n)}),"parse",{value:u})})();var Re=r(28306);const ve=[];function Pe(e){return e.sources||ve}function Se(e){return e.exports.items||ve}function Te(e){return e.creating.inProgress}function we(e){return e.creating.lastResult}function xe(e){return e.import.exportData}function Oe(e){return e.import.validatedExport}function Ie(e){return e.import.source}function Ae(e){return e.import.sources}function De(e){return e.import.userMap}function be(e){return e.import.roleMap}function We(e,t,r,n){const s=[];for(const o of e){if(!t.includes(o.slug))continue;const e=o.transform_map[n];if(e&&r.sources[o.slug])for(const t of e)s.push(..._e(r.sources[o.slug],t))}return"users"===n?(0,h.uniqBy)(s,"id"):"roles"===n?(0,h.uniqBy)(s,"slug"):s}const Me=(0,Re.Z)((e=>We(Pe(e),Ae(e),e.import.exportData,"users")),(e=>[Pe(e),Ae(e),e.import.exportData])),Ze=(0,Re.Z)((e=>We(Pe(e),Ae(e),e.import.exportData,"roles")),(e=>[Pe(e),Ae(e),e.import.exportData]));function Ne(e){return e.wpConnect.step}function Le(e){return e.wpConnect.siteUrl}function ke(e){return e.wpConnect.exports||ve}function Ue(e){return ke(e).length>0}function Fe(e){return e.wpConnect.sources||ve}function je(e){return e.wpConnect.isCreating}function Ve(e){return e.wpConnect.createdExport}function Xe(e){return e.wpConnect.isDeleting&&!!He(e)}function He(e){return e.credentials}function qe(e){return!He(e)&&["appAuthed","hasSupport","noSupport"].includes(Ne(e))}function $e(e){return e.wpConnect.discovery}function Be(e){return e.wpConnect.introspection}function Je(e,t){const r=(0,h.get)(e,["wpConnect","discovery","data","itsec","routes",t,"_links","self",0,"href"]);if(r)return r;const n=(0,h.get)(e,["wpConnect","discovery","data","url"],"");if(!n.length)return;let s=t;return-1!==n.indexOf("?")&&(s=s.replace("?","&")),s=s.replace(/^\//,""),-1!==n.indexOf("?")&&(s=s.replace("?","&")),n+s}function ze(e){return(0,h.get)(e,["wpConnect","discovery","data","index","authentication","application-passwords","endpoints","authorization"])}const Ge={isFulfilled:e=>!!e.sources,*fulfill(){const e=yield(0,c.apiFetch)({path:"/ithemes-security/v1/import-export/sources"});yield E(e)}},Qe={isFulfilled:e=>!!e.exports.items,*fulfill(){const e=yield(0,c.apiFetch)({path:"/ithemes-security/v1/import-export/exports"});yield f(e)}},Ke={isFulfilled:e=>!!e.wpConnect.exports,*fulfill(){try{const e=yield l({path:"/ithemes-security/v1/import-export/exports"});yield O(e)}catch(e){yield O([]),yield(0,c.createNotice)("error",e.message||(0,a.__)("An unknown error occurred when fetching exports."))}}},Ye={isFulfilled:e=>!!e.wpConnect.sources,*fulfill(){try{const e=yield l({path:"/ithemes-security/v1/import-export/sources"});yield I(e)}catch(e){yield I([]),yield(0,c.createNotice)("error",e.message||(0,a.__)("An unknown error occurred when fetching export sources."))}}},et={isFulfilled:e=>!!e.wpConnect.introspection,*fulfill(){try{const e=yield l({path:"/wp/v2/users/me/application-passwords/introspect"});yield x(e)}catch(e){yield x({}),yield(0,c.createNotice)("error",e.message||(0,a.__)("An unknown error occurred when fetching credential details."))}}},tt={step:"enterWebsite",siteUrl:"",discovery:null,exports:null,sources:null,isCreating:!1,isDeleting:!1,createdExport:null,introspection:null},rt={isValidating:!1,validatedExport:null,exportData:null,source:"",sources:[],userMap:{},roleMap:{}},nt=(0,i.combineReducers)({exports(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:null,errors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{...e,items:[...t.exports]};case V:return t.result.isSuccess()&&e.items?{...e,items:[t.result.data,...e.items]}:e;case X:return{...e,items:e.items.filter((e=>e.id!==t.id))};case H:return{...e,errors:{...e.errors,[t.id]:t.error}};default:return e}},creating(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inProgress:!1,lastResult:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{...e,inProgress:!0,lastResult:null};case V:return{...e,inProgress:!1,lastResult:t.result};default:return e}},sources(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===U?[...t.sources]:e},import:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case $:return{...e,isValidating:!0,validatedExport:null,exportData:null,source:t.source};case B:const r={...e,isValidating:!1,validatedExport:t.result};return t.result.isSuccess()&&(r.exportData=t.result.data),r;case J:return{...e,sources:t.sources};case z:return{...e,userMap:{...t.map}};case G:return{...e,roleMap:{...t.map}};case Q:return{...rt};default:return e}},wpConnect:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{...tt};case Y:return{...tt,siteUrl:t.url};case ee:return{...e,step:"discovering"};case te:return{...e,discovery:t.result,step:t.result.isSuccess()&&(0,h.has)(t.result,["data","index","authentication","application-passwords"])?"awaitingAuth":"noAppPasswords"};case re:return{...e,step:"appRejected"};case ne:const r=t.url===e.discovery.data.index.url;return{...tt,discovery:r?e.discovery:null,step:"appAuthed",siteUrl:t.url};case se:return{...e,discovery:t.discovery,step:t.hasSupport?"hasSupport":"noSupport"};case oe:return{...e,exports:t.exports};case ie:return{...e,sources:t.sources};case ce:return{...e,isCreating:!0,createdExport:null};case ae:return{...e,isCreating:!1,createdExport:t.result};case ue:return{...e,introspection:t.introspection};case le:return{...e,isDeleting:!0};case pe:return{...e,isDeleting:!1};default:return e}},credentials(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return null;case ne:return t.credentials;default:return e}}}),st="ithemes-security/import-export";(0,i.registerStore)(st,{controls:{...c.controls,...d},actions:n,selectors:s,resolvers:o,reducer:nt,persist:["import","wpConnect"]}),r.p=window.itsecWebpackPublicPath},28306:(e,t,r)=>{"use strict";var n,s;function o(e){return[e]}function i(){var e={clear:function(){e.head=null}};return e}function c(e,t,r){var n;if(e.length!==t.length)return!1;for(n=r;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function a(e,t){var r,a;function u(){r=s?new WeakMap:i()}function l(){var r,n,s,o,i,u=arguments.length;for(o=new Array(u),s=0;s<u;s++)o[s]=arguments[s];for(i=t.apply(null,o),(r=a(i)).isUniqueByDependants||(r.lastDependants&&!c(i,r.lastDependants,0)&&r.clear(),r.lastDependants=i),n=r.head;n;){if(c(n.args,o,1))return n!==r.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=r.head,n.prev=null,r.head.prev=n,r.head=n),n.val;n=n.next}return n={val:e.apply(null,o)},o[0]=null,n.args=o,r.head&&(r.head.prev=n,n.next=r.head),r.head=n,n.val}return t||(t=o),a=s?function(e){var t,s,o,c,a,u=r,l=!0;for(t=0;t<e.length;t++){if(!(a=s=e[t])||"object"!=typeof a){l=!1;break}u.has(s)?u=u.get(s):(o=new WeakMap,u.set(s,o),u=o)}return u.has(n)||((c=i()).isUniqueByDependants=l,u.set(n,c)),u.get(n)}:function(){return r},l.getDependants=t,l.clear=u,u(),l}r.d(t,{Z:()=>a}),n={},s="undefined"!=typeof WeakMap},31600:e=>{e.exports=function(){return this.itsec.packages.data}()},48015:e=>{e.exports=function(){return this.wp.data}()},6293:e=>{e.exports=function(){return this.wp.element}()},95122:e=>{e.exports=function(){return this.wp.i18n}()},73470:e=>{e.exports=function(){return this.wp.url}()},92819:e=>{"use strict";e.exports=window.lodash},1519:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{Z:()=>n})},86033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(1519);function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,n.Z)(e,t,"get"))}},13092:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(1519);function s(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,(0,n.Z)(e,t,"set"),r),r}},4942:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>n})}},e=>{var t=(53355,e(e.s=53355));((window.itsec=window.itsec||{})["import-export"]=window.itsec["import-export"]||{}).data=t}]);